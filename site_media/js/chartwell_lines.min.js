// ********************************************************************************
//
//     FF Chartwell Web
//     Lines module
//
//     (c) 2012 FontShop International, http://fontfont.com
//
//     Commercial product, may not be redistributed.
//
// ********************************************************************************


var linesWidth=500;var linesHeight=1e3;var linesValueHeight=10;supportedChartTypes.push("lines");log("Lines module loaded.");Chart.prototype.lines_normalizeValue=function(a){if(a<0){a=0}else if(a>100){a=100}return a};Chart.prototype.lines_valueType=function(a){if(parseInt(a)||a==0){return"value"}};Chart.prototype.lines_chartWidth=function(){return Math.ceil(this.inScale((this.values.length-1)*linesWidth))};Chart.prototype.lines_chartHeight=function(){return Math.ceil(this.inScale(linesHeight))};Chart.prototype.lines_draw=function(){log("Drawing canvas *"+this.ID+"* of type *"+this.type+"*");for(var a=0;a<this.values.length-1;a++){value=this.values[a];nextvalue=this.values[a+1];this.canvasContext.beginPath();this.canvasContext.moveTo(this.inScaleOffset(0),this.inScaleY(0));this.canvasContext.lineTo(this.inScaleOffset(linesWidth),this.inScaleY(0));this.canvasContext.lineTo(this.inScaleOffset(linesWidth),this.inScaleY(nextvalue.value*linesValueHeight));this.canvasContext.lineTo(this.inScaleOffset(0),this.inScaleY(value.value*linesValueHeight));this.canvasContext.closePath();this.canvasContext.fillStyle=nextvalue.color.toHex();this.canvasContext.fill();this.xoffset+=linesWidth}}